{
  "database": "data_pipeline_db",
  "description": "Complete catalog table schemas for all three Glue jobs",
  "tables": {
    "users_transformed": {
      "job": "data-pipeline-raw-transformation",
      "description": "Transformed and enriched user data from raw transformation job",
      "location": "s3://my-amazing-app/iceberg-warehouse/users_transformed_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "id", "type": "string", "comment": "User unique identifier"},
        {"name": "first_name", "type": "string", "comment": "User first name (cleaned)"},
        {"name": "last_name", "type": "string", "comment": "User last name (cleaned)"},
        {"name": "full_name", "type": "string", "comment": "Full name concatenated"},
        {"name": "gender", "type": "string", "comment": "User gender"},
        {"name": "email", "type": "string", "comment": "Email address"},
        {"name": "email_domain", "type": "string", "comment": "Email domain extracted"},
        {"name": "email_provider_type", "type": "string", "comment": "Email provider type"},
        {"name": "email_valid", "type": "boolean", "comment": "Email validation flag"},
        {"name": "username", "type": "string", "comment": "Username"},
        {"name": "phone", "type": "string", "comment": "Phone number"},
        {"name": "phone_valid", "type": "boolean", "comment": "Phone validation flag"},
        {"name": "address", "type": "string", "comment": "Full address"},
        {"name": "street_address", "type": "string", "comment": "Street address"},
        {"name": "city", "type": "string", "comment": "City name"},
        {"name": "country", "type": "string", "comment": "Country name"},
        {"name": "post_code", "type": "string", "comment": "Postal code"},
        {"name": "birth_date", "type": "date", "comment": "Date of birth"},
        {"name": "age_years", "type": "int", "comment": "Calculated age in years"},
        {"name": "age_group", "type": "string", "comment": "Age category"},
        {"name": "generation", "type": "string", "comment": "Generation category"},
        {"name": "registration_date", "type": "date", "comment": "Registration date"},
        {"name": "account_age_days", "type": "int", "comment": "Account age in days"},
        {"name": "account_tenure_category", "type": "string", "comment": "Account tenure category"},
        {"name": "data_quality_score", "type": "double", "comment": "Data quality score"},
        {"name": "quality_issues", "type": "string", "comment": "Quality issues as string"},
        {"name": "picture", "type": "string", "comment": "Profile picture URL"},
        {"name": "processed_at", "type": "timestamp", "comment": "Processing timestamp"},
        {"name": "processing_date", "type": "date", "comment": "Processing date partition"},
        {"name": "data_source", "type": "string", "comment": "Data source identifier"},
        {"name": "glue_job_name", "type": "string", "comment": "Glue job name"}
      ]
    },
    "data_quality_summary": {
      "job": "data-pipeline-raw-transformation",
      "description": "Data quality summary metrics",
      "location": "s3://my-amazing-app/iceberg-warehouse/data_quality_summary_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "total_records", "type": "bigint", "comment": "Total number of records"},
        {"name": "high_quality_records", "type": "bigint", "comment": "High quality records count"},
        {"name": "medium_quality_records", "type": "bigint", "comment": "Medium quality records count"},
        {"name": "low_quality_records", "type": "bigint", "comment": "Low quality records count"},
        {"name": "avg_quality_score", "type": "double", "comment": "Average quality score"},
        {"name": "valid_emails", "type": "bigint", "comment": "Valid email count"},
        {"name": "valid_phones", "type": "bigint", "comment": "Valid phone count"},
        {"name": "unique_email_domains", "type": "bigint", "comment": "Unique email domains count"},
        {"name": "unique_countries", "type": "bigint", "comment": "Unique countries count"},
        {"name": "quality_check_timestamp", "type": "timestamp", "comment": "Quality check timestamp"},
        {"name": "processing_date", "type": "date", "comment": "Processing date partition"},
        {"name": "glue_job_name", "type": "string", "comment": "Glue job name"}
      ]
    },
    "dim_user_demographics": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "User demographics dimension table",
      "location": "s3://my-amazing-app/iceberg-warehouse/dim_user_demographics_parquet/",
      "partitions": ["target_segment"],
      "columns": [
        {"name": "user_id", "type": "string", "comment": "User identifier"},
        {"name": "age_group", "type": "string", "comment": "Age group category"},
        {"name": "generation", "type": "string", "comment": "Generation category"},
        {"name": "gender", "type": "string", "comment": "User gender"},
        {"name": "country", "type": "string", "comment": "Country name"},
        {"name": "city", "type": "string", "comment": "City name"},
        {"name": "email_provider_type", "type": "string", "comment": "Email provider type"},
        {"name": "account_tenure_category", "type": "string", "comment": "Account tenure category"},
        {"name": "data_quality_score", "type": "double", "comment": "Data quality score"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "demographic_score", "type": "double", "comment": "Demographic score"},
        {"name": "target_segment", "type": "string", "comment": "Target segment"},
        {"name": "dim_created_at", "type": "timestamp", "comment": "Dimension created timestamp"},
        {"name": "dim_updated_at", "type": "timestamp", "comment": "Dimension updated timestamp"},
        {"name": "is_current", "type": "boolean", "comment": "Current record flag"}
      ]
    },
    "fact_geographic_analysis": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Geographic analysis fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_geographic_analysis_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "geographic_level", "type": "string", "comment": "Geographic level (country, city)"},
        {"name": "analysis_type", "type": "string", "comment": "Analysis type"},
        {"name": "user_count", "type": "bigint", "comment": "Number of users"},
        {"name": "unique_email_domains", "type": "bigint", "comment": "Unique email domains"},
        {"name": "avg_age", "type": "double", "comment": "Average age"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality"},
        {"name": "male_percentage", "type": "double", "comment": "Male percentage"},
        {"name": "female_percentage", "type": "double", "comment": "Female percentage"},
        {"name": "business_email_percentage", "type": "double", "comment": "Business email percentage"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "user_count_rank", "type": "bigint", "comment": "User count rank"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_age_generation_analysis": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Age and generation analysis fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_age_generation_analysis_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "age_group", "type": "string", "comment": "Age group category"},
        {"name": "generation", "type": "string", "comment": "Generation category"},
        {"name": "gender", "type": "string", "comment": "Gender"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "user_count", "type": "bigint", "comment": "User count"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality"},
        {"name": "avg_account_age_days", "type": "double", "comment": "Average account age in days"},
        {"name": "countries_represented", "type": "bigint", "comment": "Countries represented"},
        {"name": "unique_email_domains", "type": "bigint", "comment": "Unique email domains"},
        {"name": "personal_email_count", "type": "bigint", "comment": "Personal email count"},
        {"name": "business_email_count", "type": "bigint", "comment": "Business email count"},
        {"name": "veteran_users", "type": "bigint", "comment": "Veteran users count"},
        {"name": "new_users", "type": "bigint", "comment": "New users count"},
        {"name": "total_users_in_batch", "type": "bigint", "comment": "Total users in batch"},
        {"name": "percentage_of_total", "type": "double", "comment": "Percentage of total"},
        {"name": "business_email_percentage", "type": "double", "comment": "Business email percentage"},
        {"name": "veteran_percentage", "type": "double", "comment": "Veteran percentage"},
        {"name": "engagement_score", "type": "double", "comment": "Engagement score"},
        {"name": "engagement_tier", "type": "string", "comment": "Engagement tier"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_email_provider_analysis": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Email provider analysis fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_email_provider_analysis_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "email_provider_type", "type": "string", "comment": "Email provider type"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "total_users", "type": "bigint", "comment": "Total users"},
        {"name": "unique_domains", "type": "bigint", "comment": "Unique domains"},
        {"name": "avg_age", "type": "double", "comment": "Average age"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality"},
        {"name": "countries_represented", "type": "bigint", "comment": "Countries represented"},
        {"name": "analysis_level", "type": "string", "comment": "Analysis level"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_email_domain_analysis": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Email domain analysis fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_email_domain_analysis_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "email_domain", "type": "string", "comment": "Email domain"},
        {"name": "email_provider_type", "type": "string", "comment": "Email provider type"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "user_count", "type": "bigint", "comment": "User count"},
        {"name": "countries_using", "type": "bigint", "comment": "Countries using this domain"},
        {"name": "avg_user_age", "type": "double", "comment": "Average user age"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality"},
        {"name": "male_users", "type": "bigint", "comment": "Male users count"},
        {"name": "female_users", "type": "bigint", "comment": "Female users count"},
        {"name": "total_users_in_batch", "type": "bigint", "comment": "Total users in batch"},
        {"name": "market_share_percentage", "type": "double", "comment": "Market share percentage"},
        {"name": "gender_ratio_male_female", "type": "double", "comment": "Gender ratio male to female"},
        {"name": "analysis_level", "type": "string", "comment": "Analysis level"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_data_quality_metrics": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Data quality metrics fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_data_quality_metrics_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "total_records", "type": "bigint", "comment": "Total records"},
        {"name": "excellent_quality", "type": "bigint", "comment": "Excellent quality records"},
        {"name": "good_quality", "type": "bigint", "comment": "Good quality records"},
        {"name": "fair_quality", "type": "bigint", "comment": "Fair quality records"},
        {"name": "poor_quality", "type": "bigint", "comment": "Poor quality records"},
        {"name": "very_poor_quality", "type": "bigint", "comment": "Very poor quality records"},
        {"name": "avg_quality_score", "type": "double", "comment": "Average quality score"},
        {"name": "min_quality_score", "type": "double", "comment": "Minimum quality score"},
        {"name": "max_quality_score", "type": "double", "comment": "Maximum quality score"},
        {"name": "valid_emails", "type": "bigint", "comment": "Valid emails count"},
        {"name": "valid_phones", "type": "bigint", "comment": "Valid phones count"},
        {"name": "unique_users", "type": "bigint", "comment": "Unique users count"},
        {"name": "records_with_issues", "type": "bigint", "comment": "Records with issues"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "excellent_quality_percentage", "type": "double", "comment": "Excellent quality percentage"},
        {"name": "good_quality_percentage", "type": "double", "comment": "Good quality percentage"},
        {"name": "email_validity_percentage", "type": "double", "comment": "Email validity percentage"},
        {"name": "phone_validity_percentage", "type": "double", "comment": "Phone validity percentage"},
        {"name": "data_completeness_score", "type": "double", "comment": "Data completeness score"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_quality_by_segment": {
      "job": "data-pipeline-analytics-aggregation",
      "description": "Quality by segment fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_quality_by_segment_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "age_group", "type": "string", "comment": "Age group"},
        {"name": "generation", "type": "string", "comment": "Generation"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "segment_total", "type": "bigint", "comment": "Segment total"},
        {"name": "avg_segment_quality", "type": "double", "comment": "Average segment quality"},
        {"name": "valid_emails_in_segment", "type": "bigint", "comment": "Valid emails in segment"},
        {"name": "valid_phones_in_segment", "type": "bigint", "comment": "Valid phones in segment"},
        {"name": "segment_email_validity_rate", "type": "double", "comment": "Segment email validity rate"},
        {"name": "segment_phone_validity_rate", "type": "double", "comment": "Segment phone validity rate"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_registration_trends": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Registration trends fact table with time-based analysis",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_registration_trends_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "time_period", "type": "string", "comment": "Time period (YYYY-MM, YYYY-QX, or day name)"},
        {"name": "period_type", "type": "string", "comment": "Period type (monthly, quarterly, day_of_week)"},
        {"name": "registrations", "type": "bigint", "comment": "Number of registrations"},
        {"name": "countries_represented", "type": "bigint", "comment": "Number of countries represented"},
        {"name": "avg_age_at_registration", "type": "double", "comment": "Average age at registration"},
        {"name": "male_percentage", "type": "double", "comment": "Percentage of male registrations"},
        {"name": "female_percentage", "type": "double", "comment": "Percentage of female registrations"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality score"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "previous_registrations", "type": "bigint", "comment": "Previous period registrations"},
        {"name": "growth_rate", "type": "double", "comment": "Growth rate percentage"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_geographic_expansion": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Geographic expansion trends fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_geographic_expansion_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "country", "type": "string", "comment": "Country name"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "user_count", "type": "bigint", "comment": "Number of users in country"},
        {"name": "first_user_date", "type": "date", "comment": "Date of first user registration"},
        {"name": "latest_user_date", "type": "date", "comment": "Date of latest user registration"},
        {"name": "cities_represented", "type": "bigint", "comment": "Number of cities represented"},
        {"name": "avg_user_age", "type": "double", "comment": "Average user age"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality score"},
        {"name": "days_since_first_user", "type": "int", "comment": "Days since first user registration"},
        {"name": "user_acquisition_rate", "type": "double", "comment": "User acquisition rate per day"},
        {"name": "total_users_global", "type": "bigint", "comment": "Total users globally"},
        {"name": "market_share_percentage", "type": "double", "comment": "Market share percentage"},
        {"name": "user_count_rank", "type": "int", "comment": "User count ranking"},
        {"name": "expansion_rate_rank", "type": "int", "comment": "Expansion rate ranking"},
        {"name": "expansion_category", "type": "string", "comment": "Expansion category (Top Tier, Mid Tier, Emerging)"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_age_demographic_trends": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Age demographic trends fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_age_demographic_trends_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "age_group", "type": "string", "comment": "Age group category"},
        {"name": "generation", "type": "string", "comment": "Generation category"},
        {"name": "registration_year", "type": "int", "comment": "Registration year"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "total_users_in_group", "type": "bigint", "comment": "Total users in age group"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality score"},
        {"name": "total_countries", "type": "bigint", "comment": "Total countries represented"},
        {"name": "total_users_in_year", "type": "bigint", "comment": "Total users in registration year"},
        {"name": "percentage_of_year", "type": "double", "comment": "Percentage of total users in year"},
        {"name": "previous_year_percentage", "type": "double", "comment": "Previous year percentage"},
        {"name": "trend_direction", "type": "string", "comment": "Trend direction (New, Growing, Declining, Stable)"},
        {"name": "trend_magnitude", "type": "double", "comment": "Trend magnitude"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_data_quality_trends": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Data quality trends fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_data_quality_trends_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "total_records", "type": "bigint", "comment": "Total number of records"},
        {"name": "avg_quality_score", "type": "double", "comment": "Average quality score"},
        {"name": "excellent_quality_count", "type": "bigint", "comment": "Excellent quality records count"},
        {"name": "good_quality_count", "type": "bigint", "comment": "Good quality records count"},
        {"name": "fair_quality_count", "type": "bigint", "comment": "Fair quality records count"},
        {"name": "poor_quality_count", "type": "bigint", "comment": "Poor quality records count"},
        {"name": "valid_emails", "type": "bigint", "comment": "Valid emails count"},
        {"name": "valid_phones", "type": "bigint", "comment": "Valid phones count"},
        {"name": "excellent_quality_percentage", "type": "double", "comment": "Excellent quality percentage"},
        {"name": "good_quality_percentage", "type": "double", "comment": "Good quality percentage"},
        {"name": "email_validity_percentage", "type": "double", "comment": "Email validity percentage"},
        {"name": "phone_validity_percentage", "type": "double", "comment": "Phone validity percentage"},
        {"name": "previous_avg_quality", "type": "double", "comment": "Previous average quality score"},
        {"name": "quality_trend", "type": "string", "comment": "Quality trend (Baseline, Improving, Declining, Stable)"},
        {"name": "quality_change", "type": "double", "comment": "Quality change from previous period"},
        {"name": "created_at", "type": "timestamp", "comment": "Record creation timestamp"}
      ]
    },
    "fact_registration_anomalies": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Registration anomalies detection fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_registration_anomalies_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "time_period", "type": "string", "comment": "Time period"},
        {"name": "period_type", "type": "string", "comment": "Period type"},
        {"name": "registrations", "type": "bigint", "comment": "Number of registrations"},
        {"name": "countries_represented", "type": "bigint", "comment": "Countries represented"},
        {"name": "avg_age_at_registration", "type": "double", "comment": "Average age at registration"},
        {"name": "male_percentage", "type": "double", "comment": "Male percentage"},
        {"name": "female_percentage", "type": "double", "comment": "Female percentage"},
        {"name": "avg_data_quality", "type": "double", "comment": "Average data quality"},
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "previous_registrations", "type": "bigint", "comment": "Previous registrations"},
        {"name": "growth_rate", "type": "double", "comment": "Growth rate"},
        {"name": "created_at", "type": "timestamp", "comment": "Created timestamp"},
        {"name": "z_score", "type": "double", "comment": "Z-score for anomaly detection"},
        {"name": "is_anomaly", "type": "boolean", "comment": "Anomaly flag"},
        {"name": "anomaly_type", "type": "string", "comment": "Anomaly type (High Anomaly, Low Anomaly, Normal)"},
        {"name": "anomaly_severity", "type": "string", "comment": "Anomaly severity (Critical, High, Medium, Low)"}
      ]
    },
    "fact_quality_anomalies": {
      "job": "data-pipeline-time-series-analysis",
      "description": "Quality anomalies detection fact table",
      "location": "s3://my-amazing-app/iceberg-warehouse/fact_quality_anomalies_parquet/",
      "partitions": ["processing_date"],
      "columns": [
        {"name": "processing_date", "type": "date", "comment": "Processing date"},
        {"name": "total_records", "type": "bigint", "comment": "Total records"},
        {"name": "avg_quality_score", "type": "double", "comment": "Average quality score"},
        {"name": "excellent_quality_count", "type": "bigint", "comment": "Excellent quality count"},
        {"name": "good_quality_count", "type": "bigint", "comment": "Good quality count"},
        {"name": "fair_quality_count", "type": "bigint", "comment": "Fair quality count"},
        {"name": "poor_quality_count", "type": "bigint", "comment": "Poor quality count"},
        {"name": "valid_emails", "type": "bigint", "comment": "Valid emails"},
        {"name": "valid_phones", "type": "bigint", "comment": "Valid phones"},
        {"name": "excellent_quality_percentage", "type": "double", "comment": "Excellent quality percentage"},
        {"name": "good_quality_percentage", "type": "double", "comment": "Good quality percentage"},
        {"name": "email_validity_percentage", "type": "double", "comment": "Email validity percentage"},
        {"name": "phone_validity_percentage", "type": "double", "comment": "Phone validity percentage"},
        {"name": "previous_avg_quality", "type": "double", "comment": "Previous average quality"},
        {"name": "quality_trend", "type": "string", "comment": "Quality trend"},
        {"name": "quality_change", "type": "double", "comment": "Quality change"},
        {"name": "created_at", "type": "timestamp", "comment": "Created timestamp"},
        {"name": "z_score", "type": "double", "comment": "Z-score for anomaly detection"},
        {"name": "is_anomaly", "type": "boolean", "comment": "Anomaly flag"},
        {"name": "anomaly_type", "type": "string", "comment": "Anomaly type (High Anomaly, Low Anomaly, Normal)"},
        {"name": "anomaly_severity", "type": "string", "comment": "Anomaly severity (Critical, High, Medium, Low)"}
      ]
    }
  },
  "summary": {
    "total_tables": 15,
    "job_1_tables": 2,
    "job_2_tables": 7,
    "job_3_tables": 6,
    "iceberg_warehouse_location": "s3://my-amazing-app/iceberg-warehouse/",
    "supported_formats": ["parquet"],
    "compression": "snappy"
  }
}